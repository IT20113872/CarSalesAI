(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[337],{904:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>S});var t=r(3365),l=r(1521),i=r(627),s=r(5826),o=r(7020),n=r(4086),d=r(7982);let c=(0,d.A)("car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]),u=(0,d.A)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);var g=r(8760),p=r(2196);let y=(0,d.A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),m=["All","ACT","NSW","NT","QLD","SA","TAS","VIC","WA"],h=["Acura","Alfa Romeo","Aston Martin","Audi","Bentley","BMW","Buick","Cadillac","Chevrolet","Chrysler","Citro\xebn","Dacia","Daewoo","Daihatsu","Dodge","Ferrari","Fiat","Ford","Genesis","GMC","Honda","Hyundai","Infiniti","Jaguar","Jeep","Kia","Lamborghini","Lancia","Land Rover","Lexus","Lincoln","Lotus","Maserati","Mazda","McLaren","Mercedes","Mini","Mitsubishi","Nissan","Opel","Pagani","Peugeot","Porsche","Ram","Renault","Rolls-Royce","Saab","Seat","Skoda","Smart","Subaru","Suzuki","Tesla","Toyota","Volkswagen","Volvo","Abarth","Alpine","BYD","Chery","Datsun","Fisker","Geely","Great Wall","Haval","Holden","Isuzu","JAC","Lada","Mahindra","MG","NIO","Perodua","Polestar","Proton","Rivian","Rover","SsangYong","Tata","Vauxhall","Austin","DeLorean","Hummer","Mercury","Oldsmobile","Plymouth","Pontiac","Saturn","Scion"],x=["Corolla","Camry","RAV4","Prius","Highlander","Tacoma","Tundra","Supra","Yaris","Land Cruiser","Mustang","F-150","Explorer","Escape","Bronco","Focus","Fusion","Edge","Ranger","Mach-E","Civic","Accord","CR-V","Pilot","Odyssey","Fit","HR-V","Ridgeline","Passport","X5","3 Series","5 Series","X3","X7","M3","M5","i4","iX","Z4","C-Class","E-Class","S-Class","GLC","GLE","GLS","A-Class","AMG GT","EQS","G-Wagon","Model 3","Model S","Model X","Model Y","Cybertruck","Roadster","Chevrolet Silverado","Chevrolet Camaro","Chevrolet Equinox","Chevrolet Corvette","Audi A4","Audi Q5","Audi e-tron","Volkswagen Golf","Volkswagen Tiguan","Volkswagen ID.4","Hyundai Tucson","Hyundai Sonata","Hyundai Ioniq 5","Kia Telluride","Kia Sportage","Kia EV6","Nissan Altima","Nissan Rogue","Nissan Leaf","Subaru Outback","Subaru Forester","Subaru WRX","Mazda CX-5","Mazda3","Mazda Miata","Porsche 911","Porsche Cayenne","Porsche Taycan","Jeep Wrangler","Jeep Grand Cherokee","Jeep Gladiator","Lexus RX","Lexus ES","Lexus IS","Ferrari 488","Ferrari Roma","Lamborghini Hurac\xe1n","Lamborghini Urus","Rivian R1T","Rivian R1S","Volvo XC90","Volvo S60","Polestar 2"],b=["Sydney","Melbourne","Brisbane","Perth","Adelaide"],f=["Sedan","SUV","Hatchback","Coupe","Convertible"],v=["10000","20000","30000","40000","50000"],k=["50000","100000","150000","200000","250000"],C=["/background.png","/background (2).png","/backgroundx.png"];function S(){let e=(0,i.useRouter)(),[a,r]=(0,l.useState)("All"),[d,S]=(0,l.useState)(""),[w,A]=(0,l.useState)(""),[P,j]=(0,l.useState)(""),[M,N]=(0,l.useState)(""),[L,R]=(0,l.useState)(""),[T,z]=(0,l.useState)(""),[E,V]=(0,l.useState)(""),[G,F]=(0,l.useState)([]),[H,I]=(0,l.useState)(0),[D,O]=(0,l.useState)(null);(0,l.useEffect)(()=>{E.length>2?F(["Used ".concat(E," in ").concat(P||"Sydney"),"".concat(E," under ").concat(T||"100000"),"New ".concat(E," ").concat(M||"Sedan")].filter(e=>e.toLowerCase().includes(E.toLowerCase())).slice(0,3)):F([])},[E,P,T,M]),(0,l.useEffect)(()=>{let e=setInterval(()=>{I(e=>(e+1)%C.length)},5e3);return()=>clearInterval(e)},[]),(0,l.useEffect)(()=>{(async()=>{try{let e=new URLSearchParams;"All"!==a&&e.append("state",a),d&&e.append("make",d),w&&e.append("model",w),P&&e.append("city",P),M&&e.append("bodyType",M),L&&e.append("minPrice",L),T&&e.append("maxPrice",T);let r=await fetch("/api/cars?".concat(e.toString())),t=await r.json();O(t.totalCount||0)}catch(e){console.error(e),O(null)}})()},[a,d,w,P,M,L,T]);let _=["All"!==a&&{label:a,setter:r},d&&{label:d,setter:S},w&&{label:w,setter:A},P&&{label:P,setter:j},M&&{label:M,setter:N},L&&{label:"Min $".concat(L),setter:R},T&&{label:"Max $".concat(T),setter:z}].filter(Boolean);return(0,t.jsxs)("div",{className:"min-h-screen flex items-center justify-center relative overflow-hidden",children:[(0,t.jsx)(o.N,{mode:"wait",children:(0,t.jsx)(n.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1},className:"absolute inset-0 -z-10 w-full h-full",children:(0,t.jsx)(s.default,{src:C[H],alt:"Background ".concat(H),fill:!0,style:{objectFit:"cover"},priority:!0})},H)}),(0,t.jsx)("div",{className:"absolute inset-0 bg-black/40"}),(0,t.jsxs)(n.P.div,{initial:{opacity:0,scale:.97},animate:{opacity:1,scale:1},transition:{duration:.3},className:"relative w-full max-w-4xl backdrop-blur-xl bg-white/40 dark:bg-gray-900/50 rounded-3xl shadow-2xl p-8 border border-white/20 z-10",children:[(0,t.jsx)("h1",{className:"text-3xl font-extrabold text-center text-gray-100 mb-8",children:"Find Your Dream Vehicle"}),(0,t.jsx)("div",{className:"flex flex-wrap justify-center gap-2 mb-6",children:m.map(e=>(0,t.jsx)("button",{className:"px-4 py-2 rounded-full text-sm font-medium transition ".concat(a===e?"bg-red-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-300"),onClick:()=>r(e),children:e},e))}),(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[["Make",h,d,S,c],["Model",x,w,A,c],["City",b,P,j,u],["Body Type",f,M,N,c],["Min. Price",v,L,R,g.A],["Max. Price",k,T,z,g.A]].map(e=>{let[a,r,l,i,s]=e;return(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(s,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-200",size:18}),(0,t.jsxs)("select",{value:l,onChange:e=>i(e.target.value),className:"w-full pl-10 pr-3 py-2.5 rounded-lg bg-white/60 dark:bg-gray-800/60 border border-gray-300 dark:border-gray-700 text-gray-900 dark:text-white text-sm focus:ring-2 focus:ring-red-500",children:[(0,t.jsx)("option",{value:"",children:a}),r.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]},a)})}),_.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mb-6",children:_.map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center gap-1 bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-200 px-3 py-1 rounded-full text-xs font-medium",children:[e.label,(0,t.jsx)(p.A,{size:14,className:"cursor-pointer",onClick:()=>e.setter("")})]},a))}),(0,t.jsxs)("div",{className:"relative mb-6",children:[(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("div",{className:"relative flex-grow",children:[(0,t.jsx)(y,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-200",size:18}),(0,t.jsx)("input",{type:"text",placeholder:"AI Search e.g. 'Red Tesla in Sydney'",value:E,onChange:e=>V(e.target.value),className:"w-full pl-10 pr-3 py-2.5 rounded-lg bg-white/60 dark:bg-gray-800/60 border border-gray-300 dark:border-gray-700 text-gray-900 dark:text-white text-sm focus:ring-2 focus:ring-red-500"})]}),(0,t.jsx)("button",{className:"bg-gray-300 dark:bg-gray-600 text-gray-800 dark:text-gray-200 px-4 py-2 rounded-lg font-medium hover:bg-gray-400 dark:hover:bg-gray-500 transition",onClick:()=>{r("All"),S(""),A(""),j(""),N(""),R(""),z(""),V(""),F([]),e.push("/results")},children:"Clear Filters"}),(0,t.jsx)("button",{className:"bg-red-500 hover:bg-red-600 text-white px-6 rounded-lg text-sm font-semibold",onClick:()=>{F([]);let r={make:d,model:w,city:P,bodyType:M,minPrice:L,maxPrice:T};if(E){let e=(e=>{let a=e.toLowerCase(),r={};for(let e of h)a.includes(e.toLowerCase())&&(r.make=e);for(let e of x)a.includes(e.toLowerCase())&&(r.model=e);let t=a.match(/in\s+(\w+)/);for(let e of(t&&b.includes(t[1].charAt(0).toUpperCase()+t[1].slice(1))&&(r.city=t[1].charAt(0).toUpperCase()+t[1].slice(1)),f))a.includes(e.toLowerCase())&&(r.bodyType=e);let l=a.match(/under\s+(\d+)/);l&&(r.maxPrice=l[1]);let i=a.match(/(over|above)\s+(\d+)/);i&&(r.minPrice=i[2]);let s=a.match(/between\s+(\d+)\s+and\s+(\d+)/);return s&&(r.minPrice=s[1],r.maxPrice=s[2]),r})(E);S((r={...r,...e}).make||""),A(r.model||""),j(r.city||""),N(r.bodyType||""),R(r.minPrice||""),z(r.maxPrice||"")}let t=new URLSearchParams;"All"!==a&&t.append("state",a),r.make&&t.append("make",r.make),r.model&&t.append("model",r.model),r.city&&t.append("city",r.city),r.bodyType&&t.append("bodyType",r.bodyType),r.minPrice&&t.append("minPrice",r.minPrice),r.maxPrice&&t.append("maxPrice",r.maxPrice),e.push("/results?".concat(t.toString()))},children:"Search"})]}),(0,t.jsx)(o.N,{children:G.length>0&&(0,t.jsx)(n.P.div,{initial:{opacity:0,y:-6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},className:"absolute z-20 w-full mt-2 bg-white/90 dark:bg-gray-800/90 rounded-lg shadow-lg border border-gray-300 dark:border-gray-700",children:G.map((e,a)=>(0,t.jsx)("div",{onClick:()=>{V(e),F([])},className:"px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer text-sm text-gray-800 dark:text-white",children:e},a))})})]}),(0,t.jsxs)("button",{className:"w-full bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white px-6 py-2.5 rounded-lg text-sm font-semibold hover:bg-gray-300 dark:hover:bg-gray-600",onClick:()=>e.push("/results"),children:["Show All Cars ",null!==D?"(".concat(D,")"):""]})]})]})}},2196:(e,a,r)=>{"use strict";r.d(a,{A:()=>t});let t=(0,r(7982).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},5393:(e,a,r)=>{Promise.resolve().then(r.bind(r,904))},5826:(e,a,r)=>{"use strict";r.d(a,{default:()=>l.a});var t=r(7793),l=r.n(t)},7793:(e,a,r)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),!function(e,a){for(var r in a)Object.defineProperty(e,r,{enumerable:!0,get:a[r]})}(a,{default:function(){return n},getImageProps:function(){return o}});let t=r(6297),l=r(8279),i=r(3571),s=t._(r(4037));function o(e){let{props:a}=(0,l.getImgProps)(e,{defaultLoader:s.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(a))void 0===r&&delete a[e];return{props:a}}let n=i.Image}},e=>{e.O(0,[571,18,347,508,358],()=>e(e.s=5393)),_N_E=e.O()}]);