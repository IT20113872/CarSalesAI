(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[337],{1267:(e,t,a)=>{Promise.resolve().then(a.bind(a,1999))},1469:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}(t,{default:function(){return n},getImageProps:function(){return c}});let r=a(8229),l=a(8883),s=a(3063),i=r._(a(1193));function c(e){let{props:t}=(0,l.getImgProps)(e,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,a]of Object.entries(t))void 0===a&&delete t[e];return{props:t}}let n=s.Image},1999:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>j});var r=a(5155),l=a(2115),s=a(5695),i=a(6766),c=a(760),n=a(8274),d=a(9946);let o=(0,d.A)("car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]),u=(0,d.A)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);var p=a(5868),g=a(4416);let y=(0,d.A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),m=["All","ACT","NSW","NT","QLD","SA","TAS","VIC","WA"],x=["Toyota","Ford","Honda","BMW","Mercedes","Tesla"],b=["Corolla","Camry","Civic","Mustang","Model 3","X5"],h=["Sydney","Melbourne","Brisbane","Perth","Adelaide"],f=["Sedan","SUV","Hatchback","Coupe","Convertible"],k=["10000","20000","30000","40000","50000"],v=["50000","100000","150000","200000","250000"],w=["/background.png","/background (2).png","/backgroundx.png"];function j(){let e=(0,s.useRouter)(),[t,a]=(0,l.useState)("All"),[d,j]=(0,l.useState)(""),[C,N]=(0,l.useState)(""),[S,P]=(0,l.useState)(""),[A,M]=(0,l.useState)(""),[T,z]=(0,l.useState)(""),[L,_]=(0,l.useState)(""),[I,E]=(0,l.useState)(""),[U,B]=(0,l.useState)([]),[O,F]=(0,l.useState)(0),[R,V]=(0,l.useState)(null);(0,l.useEffect)(()=>{I.length>2?B(["Used ".concat(I," in ").concat(S||"Sydney"),"".concat(I," under ").concat(L||"100000"),"New ".concat(I," ").concat(A||"Sedan")].filter(e=>e.toLowerCase().includes(I.toLowerCase())).slice(0,3)):B([])},[I,S,L,A]),(0,l.useEffect)(()=>{let e=setInterval(()=>{F(e=>(e+1)%w.length)},5e3);return()=>clearInterval(e)},[]),(0,l.useEffect)(()=>{(async()=>{try{let e=new URLSearchParams;"All"!==t&&e.append("state",t),d&&e.append("make",d),C&&e.append("model",C),S&&e.append("city",S),A&&e.append("bodyType",A),T&&e.append("minPrice",T),L&&e.append("maxPrice",L);let a=await fetch("/api/cars?".concat(e.toString())),r=await a.json();V(r.totalCount||0)}catch(e){console.error(e),V(null)}})()},[t,d,C,S,A,T,L]);let H=["All"!==t&&{label:t,setter:a},d&&{label:d,setter:j},C&&{label:C,setter:N},S&&{label:S,setter:P},A&&{label:A,setter:M},T&&{label:"Min $".concat(T),setter:z},L&&{label:"Max $".concat(L),setter:_}].filter(Boolean);return(0,r.jsxs)("div",{className:"min-h-screen flex items-center justify-center relative overflow-hidden",children:[(0,r.jsx)(c.N,{mode:"wait",children:(0,r.jsx)(n.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1},className:"absolute inset-0 -z-10 w-full h-full",children:(0,r.jsx)(i.default,{src:w[O],alt:"Background ".concat(O),fill:!0,style:{objectFit:"cover"},priority:!0})},O)}),(0,r.jsx)("div",{className:"absolute inset-0 bg-black/40"}),(0,r.jsxs)(n.P.div,{initial:{opacity:0,scale:.97},animate:{opacity:1,scale:1},transition:{duration:.3},className:"relative w-full max-w-4xl backdrop-blur-xl bg-white/40 dark:bg-gray-900/50 rounded-3xl shadow-2xl p-8 border border-white/20 z-10",children:[(0,r.jsx)("h1",{className:"text-3xl font-extrabold text-center text-gray-100 mb-8",children:"Find Your Dream Vehicle"}),(0,r.jsx)("div",{className:"flex flex-wrap justify-center gap-2 mb-6",children:m.map(e=>(0,r.jsx)("button",{className:"px-4 py-2 rounded-full text-sm font-medium transition ".concat(t===e?"bg-red-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-300"),onClick:()=>a(e),children:e},e))}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[["Make",x,d,j,o],["Model",b,C,N,o],["City",h,S,P,u],["Body Type",f,A,M,o],["Min. Price",k,T,z,p.A],["Max. Price",v,L,_,p.A]].map(e=>{let[t,a,l,s,i]=e;return(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(i,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-200",size:18}),(0,r.jsxs)("select",{value:l,onChange:e=>s(e.target.value),className:"w-full pl-10 pr-3 py-2.5 rounded-lg bg-white/60 dark:bg-gray-800/60 border border-gray-300 dark:border-gray-700 text-gray-900 dark:text-white text-sm focus:ring-2 focus:ring-red-500",children:[(0,r.jsx)("option",{value:"",children:t}),a.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]})]},t)})}),H.length>0&&(0,r.jsx)("div",{className:"flex flex-wrap gap-2 mb-6",children:H.map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center gap-1 bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-200 px-3 py-1 rounded-full text-xs font-medium",children:[e.label,(0,r.jsx)(g.A,{size:14,className:"cursor-pointer",onClick:()=>e.setter("")})]},t))}),(0,r.jsxs)("div",{className:"relative mb-6",children:[(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsxs)("div",{className:"relative flex-grow",children:[(0,r.jsx)(y,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-200",size:18}),(0,r.jsx)("input",{type:"text",placeholder:"AI Search e.g. 'Red Tesla in Sydney'",value:I,onChange:e=>E(e.target.value),className:"w-full pl-10 pr-3 py-2.5 rounded-lg bg-white/60 dark:bg-gray-800/60 border border-gray-300 dark:border-gray-700 text-gray-900 dark:text-white text-sm focus:ring-2 focus:ring-red-500"})]}),(0,r.jsx)("button",{className:"bg-gray-300 dark:bg-gray-600 text-gray-800 dark:text-gray-200 px-4 py-2 rounded-lg font-medium hover:bg-gray-400 dark:hover:bg-gray-500 transition",onClick:()=>{a("All"),j(""),N(""),P(""),M(""),z(""),_(""),E(""),B([]),e.push("/results")},children:"Clear Filters"}),(0,r.jsx)("button",{className:"bg-red-500 hover:bg-red-600 text-white px-6 rounded-lg text-sm font-semibold",onClick:()=>{B([]);let a={make:d,model:C,city:S,bodyType:A,minPrice:T,maxPrice:L};if(I){let e=(e=>{let t=e.toLowerCase(),a={};for(let e of x)t.includes(e.toLowerCase())&&(a.make=e);for(let e of b)t.includes(e.toLowerCase())&&(a.model=e);let r=t.match(/in\s+(\w+)/);for(let e of(r&&h.includes(r[1].charAt(0).toUpperCase()+r[1].slice(1))&&(a.city=r[1].charAt(0).toUpperCase()+r[1].slice(1)),f))t.includes(e.toLowerCase())&&(a.bodyType=e);let l=t.match(/under\s+(\d+)/);l&&(a.maxPrice=l[1]);let s=t.match(/(over|above)\s+(\d+)/);s&&(a.minPrice=s[2]);let i=t.match(/between\s+(\d+)\s+and\s+(\d+)/);return i&&(a.minPrice=i[1],a.maxPrice=i[2]),a})(I);j((a={...a,...e}).make||""),N(a.model||""),P(a.city||""),M(a.bodyType||""),z(a.minPrice||""),_(a.maxPrice||"")}let r=new URLSearchParams;"All"!==t&&r.append("state",t),a.make&&r.append("make",a.make),a.model&&r.append("model",a.model),a.city&&r.append("city",a.city),a.bodyType&&r.append("bodyType",a.bodyType),a.minPrice&&r.append("minPrice",a.minPrice),a.maxPrice&&r.append("maxPrice",a.maxPrice),e.push("/results?".concat(r.toString()))},children:"Search"})]}),(0,r.jsx)(c.N,{children:U.length>0&&(0,r.jsx)(n.P.div,{initial:{opacity:0,y:-6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},className:"absolute z-20 w-full mt-2 bg-white/90 dark:bg-gray-800/90 rounded-lg shadow-lg border border-gray-300 dark:border-gray-700",children:U.map((e,t)=>(0,r.jsx)("div",{onClick:()=>{E(e),B([])},className:"px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer text-sm text-gray-800 dark:text-white",children:e},t))})})]}),(0,r.jsxs)("button",{className:"w-full bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white px-6 py-2.5 rounded-lg text-sm font-semibold hover:bg-gray-300 dark:hover:bg-gray-600",onClick:()=>e.push("/results"),children:["Show All Cars ",null!==R?"(".concat(R,")"):""]})]})]})}},4416:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(9946).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},6766:(e,t,a)=>{"use strict";a.d(t,{default:()=>l.a});var r=a(1469),l=a.n(r)}},e=>{e.O(0,[232,822,441,964,358],()=>e(e.s=1267)),_N_E=e.O()}]);