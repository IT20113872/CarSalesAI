(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[944],{7982:(e,r,t)=>{"use strict";t.d(r,{A:()=>n});var a=t(1521);let l=e=>{let r=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,t)=>t?t.toUpperCase():r.toLowerCase());return r.charAt(0).toUpperCase()+r.slice(1)},s=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,a.forwardRef)((e,r)=>{let{color:t="currentColor",size:l=24,strokeWidth:o=2,absoluteStrokeWidth:n,className:d="",children:c,iconNode:u,...x}=e;return(0,a.createElement)("svg",{ref:r,...i,width:l,height:l,stroke:t,strokeWidth:n?24*Number(o)/Number(l):o,className:s("lucide",d),...!c&&!(e=>{for(let r in e)if(r.startsWith("aria-")||"role"===r||"title"===r)return!0})(x)&&{"aria-hidden":"true"},...x},[...u.map(e=>{let[r,t]=e;return(0,a.createElement)(r,t)}),...Array.isArray(c)?c:[c]])}),n=(e,r)=>{let t=(0,a.forwardRef)((t,i)=>{let{className:n,...d}=t;return(0,a.createElement)(o,{ref:i,iconNode:r,className:s("lucide-".concat(l(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),n),...d})});return t.displayName=l(e),t}},8338:(e,r,t)=>{Promise.resolve().then(t.bind(t,9515))},9515:(e,r,t)=>{"use strict";t.d(r,{default:()=>m});var a=t(3365),l=t(1521),s=t(8760);let i=["All","ACT","NSW","NT","QLD","SA","TAS","VIC","WA"],o=["Toyota","Honda","Ford","BMW","Mercedes","Tesla"],n=["Corolla","Camry","Civic","Accord","Mustang","Model 3"],d=["Sydney","Melbourne","Brisbane","Perth","Adelaide"],c=["SUV","Sedan","Hatchback","Coupe","Convertible"];function u(e){let{initialFilters:r,onFilter:t}=e,[u,x]=(0,l.useState)((null==r?void 0:r.state)||"All"),[g,b]=(0,l.useState)((null==r?void 0:r.make)||""),[m,y]=(0,l.useState)((null==r?void 0:r.model)||""),[p,h]=(0,l.useState)((null==r?void 0:r.minPrice)||""),[f,v]=(0,l.useState)((null==r?void 0:r.maxPrice)||""),[k,j]=(0,l.useState)((null==r?void 0:r.city)||""),[N,w]=(0,l.useState)((null==r?void 0:r.bodyType)||"");return(0,l.useEffect)(()=>{x((null==r?void 0:r.state)||"All"),b((null==r?void 0:r.make)||""),y((null==r?void 0:r.model)||""),h((null==r?void 0:r.minPrice)||""),v((null==r?void 0:r.maxPrice)||""),j((null==r?void 0:r.city)||""),w((null==r?void 0:r.bodyType)||"")},[r]),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t({state:u,make:g,model:m,minPrice:p,maxPrice:f,city:k,bodyType:N})},className:"flex flex-wrap items-end gap-4 bg-white dark:bg-gray-800 p-4 rounded-2xl shadow-lg justify-start overflow-x-auto mb-6",children:[(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 mb-1",children:"State"}),(0,a.jsx)("select",{value:u,onChange:e=>x(e.target.value),className:"w-28 px-3 py-2 rounded-xl border border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-white focus:ring-2 focus:ring-blue-400 focus:outline-none transition",children:i.map(e=>(0,a.jsx)("option",{value:e,children:e},e))})]}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 mb-1",children:"Make"}),(0,a.jsx)("input",{list:"makes",value:g,onChange:e=>b(e.target.value),placeholder:"Any Make",className:"w-32 px-3 py-2 rounded-xl border border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-white focus:ring-2 focus:ring-blue-400 focus:outline-none transition"}),(0,a.jsx)("datalist",{id:"makes",children:o.map(e=>(0,a.jsx)("option",{value:e},e))})]}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 mb-1",children:"Model"}),(0,a.jsx)("input",{list:"models",value:m,onChange:e=>y(e.target.value),placeholder:"Any Model",className:"w-32 px-3 py-2 rounded-xl border border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-white focus:ring-2 focus:ring-blue-400 focus:outline-none transition"}),(0,a.jsx)("datalist",{id:"models",children:n.map(e=>(0,a.jsx)("option",{value:e},e))})]}),(0,a.jsxs)("div",{className:"flex flex-col relative",children:[(0,a.jsx)("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 mb-1",children:"Min Price"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(s.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),(0,a.jsx)("input",{type:"number",value:p,onChange:e=>h(e.target.value),placeholder:"0",className:"w-24 pl-8 pr-3 py-2 rounded-xl border border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-white focus:ring-2 focus:ring-blue-400 focus:outline-none transition"})]})]}),(0,a.jsxs)("div",{className:"flex flex-col relative",children:[(0,a.jsx)("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 mb-1",children:"Max Price"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(s.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),(0,a.jsx)("input",{type:"number",value:f,onChange:e=>v(e.target.value),placeholder:"Any",className:"w-24 pl-8 pr-3 py-2 rounded-xl border border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-white focus:ring-2 focus:ring-blue-400 focus:outline-none transition"})]})]}),(0,a.jsxs)("div",{className:"flex flex-col relative",children:[(0,a.jsx)("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 mb-1",children:"City"}),(0,a.jsx)("input",{list:"cities",value:k,onChange:e=>j(e.target.value),placeholder:"Any City",className:"w-32 pl-3 pr-3 py-2 rounded-xl border border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-white focus:ring-2 focus:ring-blue-400 focus:outline-none transition"}),(0,a.jsx)("datalist",{id:"cities",children:d.map(e=>(0,a.jsx)("option",{value:e},e))})]}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 mb-1",children:"Body Type"}),(0,a.jsx)("input",{list:"bodyTypes",value:N,onChange:e=>w(e.target.value),placeholder:"Any",className:"w-28 px-3 py-2 rounded-xl border border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-white focus:ring-2 focus:ring-blue-400 focus:outline-none transition"}),(0,a.jsx)("datalist",{id:"bodyTypes",children:c.map(e=>(0,a.jsx)("option",{value:e},e))})]}),(0,a.jsxs)("div",{className:"flex gap-2 mt-1",children:[(0,a.jsx)("button",{type:"submit",className:"h-10 px-5 bg-transparent text-blue-500 font-semibold rounded-xl border-2 border-blue-500 hover:bg-blue-500 hover:text-white transition",children:"Filter"}),(0,a.jsx)("button",{type:"button",onClick:()=>{x("All"),b(""),y(""),h(""),v(""),j(""),w(""),t({})},className:"h-10 px-4 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 font-semibold rounded-xl hover:bg-gray-300 dark:hover:bg-gray-600 transition",children:"Clear"})]})]})}var x=t(7020),g=t(4086),b=t(627);function m(){let e=(0,b.useSearchParams)(),r=(0,l.useRef)(!1),t={make:e.get("make")||"",model:e.get("model")||"",minPrice:e.get("minPrice")||"",maxPrice:e.get("maxPrice")||"",city:e.get("city")||"",bodyType:e.get("bodyType")||""},[s,i]=(0,l.useState)(t),[o,n]=(0,l.useState)([]),[d,c]=(0,l.useState)(null),[m,y]=(0,l.useState)(!1),[p,h]=(0,l.useState)(!0),f=async e=>{if(r.current)return;r.current=!0,y(!0);let t=new URLSearchParams({...Object.fromEntries(Object.entries(s).filter(e=>{let[r,t]=e;return t})),limit:"12"});e&&t.append("cursor",e.toString());try{var a;let r=await fetch("/api/cars?".concat(t.toString())),l=await r.json(),s=Array.isArray(l.cars)?l.cars:[];n(r=>e?[...r,...s]:s),c(null!=(a=l.nextCursor)?a:null)}catch(e){console.error("Failed to fetch cars",e),n([]),c(null)}finally{y(!1),h(!1),r.current=!1}};return(0,l.useEffect)(()=>{f()},[]),(0,l.useEffect)(()=>{f()},[s]),(0,l.useEffect)(()=>{i({make:e.get("make")||"",model:e.get("model")||"",minPrice:e.get("minPrice")||"",maxPrice:e.get("maxPrice")||"",city:e.get("city")||"",bodyType:e.get("bodyType")||""})},[e]),(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-4 lg:p-8",children:[(0,a.jsx)("div",{className:"overflow-x-auto mb-6",children:(0,a.jsx)("div",{className:"inline-flex gap-4",children:(0,a.jsx)(u,{onFilter:e=>{i(e)},initialFilters:s})})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[p&&Array.from({length:12}).map((e,r)=>(0,a.jsx)("div",{className:"animate-pulse bg-gray-200 dark:bg-gray-700 rounded-2xl h-64 w-full"},r)),(0,a.jsx)(x.N,{children:(o||[]).map(e=>{var r,t;return(0,a.jsxs)(g.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},layout:!0,className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-2xl shadow-md hover:shadow-xl transition transform hover:-translate-y-1 p-6 flex flex-col gap-3 min-h-[350px]",children:[(0,a.jsx)("h2",{className:"font-bold text-lg text-gray-900 dark:text-gray-100",children:e.title}),(0,a.jsxs)("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:[e.year," • ",e.make," • ",e.model]}),(0,a.jsxs)("p",{className:"text-red-600 dark:text-red-400 font-semibold text-lg",children:["$",null==(r=e.price)?void 0:r.toLocaleString()]}),(0,a.jsxs)("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:[e.display_city,", ",e.display_state," | ",null==(t=e.odometer)?void 0:t.toLocaleString()," km"]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-1 mt-1",children:[e.transmission&&(0,a.jsx)("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 rounded-full text-xs",children:e.transmission}),e.fuel_type&&(0,a.jsx)("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 rounded-full text-xs",children:e.fuel_type}),e.status&&(0,a.jsx)("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 rounded-full text-xs",children:e.status})]}),(0,a.jsx)("a",{href:e.full_path,target:"_blank",rel:"noopener noreferrer",className:"mt-auto text-center px-5 py-2 border-2 border-blue-600 dark:border-blue-500 text-blue-600 dark:text-blue-300 rounded-xl font-semibold hover:bg-blue-50 dark:hover:bg-blue-900 transition-all duration-300",children:"See Details"})]},e.id)})}),!p&&0===(o||[]).length&&(0,a.jsx)("p",{className:"text-gray-700 dark:text-gray-300 text-center col-span-full",children:"No cars found."})]}),d&&!m&&(0,a.jsx)("div",{className:"flex justify-center mt-8",children:(0,a.jsx)("button",{className:"px-6 py-2 border-2 border-blue-600 dark:border-blue-500 text-blue-600 dark:text-blue-300 rounded-xl font-semibold hover:bg-blue-50 dark:hover:bg-blue-900 hover:shadow-lg transition-all duration-300",onClick:()=>f(d),children:"Load More"})}),m&&!p&&(0,a.jsx)("div",{className:"flex justify-center mt-8 text-gray-700 dark:text-gray-300",children:"Loading..."})]})}}},e=>{e.O(0,[18,347,508,358],()=>e(e.s=8338)),_N_E=e.O()}]);